Nginx module
============

Basic Nginx Puppet module

Classes
-------

nginx::package

    installs the Nginx packages


nginx::service

    ensure that Nginx service is running


Types
-----

nginx::site::purge

    purge your sites-available and sites-enabled directories

    Use it if you need to be sure that only the explicitly
    specified virtual hosts exists


nginx::site::redirect
    
    creates a simple virtualhost which redirects to an url

    parameters:

        server_name (mandatory): 
            the virtualhost name

        server_aliases (optional):
            an array with alternative server names

        port (optional, default: 80):
            its port

        redirect_url (mandatory):
            the destination url of the redirection

        default_vhost (optional, default: false):
            is this vhost the default one?

        permanent (optional, default: true):
            is this redirection permanent?

        enabled (optional, default: true):
            enable this vhost?


nginx::site::proxy
    
    creates a virtualhost using nginx as a proxy

    parameters:

        server_name (mandatory): 
            the virtualhost name

        upstream (mandatory):
            the upstream server, an ip (w.x.y.z) or a unix socket (unix:/path/to/socket)

        root_dir (mandatory):
            the root directory

        server_aliases (optional):
            an array with alternative server names

        port (optional, default: 80):
            its port

        media_url (optional):
            url where media will be served

        media_dir (optional):
            directory from which media will be served

        default_vhost (optional, default: false):
            is this vhost the default one?

        enabled (optional, default: true):
            enable this vhost?


nginx::site::raw

    here you can upload a file to be used as a virtualhost definition
    it must contains all the needed information

    parameters:

        file_name (mandatory):
            filename used, must be located at "puppet:///files/nginx/${file_name}"

